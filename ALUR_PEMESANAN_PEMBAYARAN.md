# Alur Pemesanan & Pembayaran Zulzi Trans

## ðŸ”„ Flow Diagram Lengkap

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    1. USER MENGISI FORM PEMESANAN                   â”‚
â”‚   - Pilih layanan (Passenger/Logistics/Waste)                      â”‚
â”‚   - Isi detail (lokasi, tanggal, jumlah)                           â”‚
â”‚   - Upload foto (jika sampah/barang)                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    2. SUBMIT PEMESANAN                              â”‚
â”‚   POST /api/pemesanan                                               â”‚
â”‚   Status: "Menunggu"                                                â”‚
â”‚   total_biaya: 0 (belum ada harga)                                 â”‚
â”‚   nominal_dp: 0 (belum ditentukan)                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            3. TAMPILAN: "MENUNGGU KONFIRMASI PEMESANAN"             â”‚
â”‚   ðŸ“‹ Header: "Menunggu Konfirmasi Pemesanan"                       â”‚
â”‚   ðŸ“ Subtitle: "Admin sedang memeriksa detail pesanan Anda"        â”‚
â”‚   ðŸ’¬ Tombol: "Diskusi Harga via WhatsApp"                          â”‚
â”‚   ðŸ”„ Tombol: "Cek Update Status (Refresh)"                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        4. ADMIN KONFIRMASI (via Dashboard Admin - Mizan)            â”‚
â”‚   - Admin menetapkan harga (total_biaya)                           â”‚
â”‚   - Admin menetapkan nominal DP (nominal_dp)                       â”‚
â”‚   - Admin assign armada & supir                                    â”‚
â”‚   - Admin ubah status: "Dikonfirmasi"                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         5. TAMPILAN: "PESANAN DIKONFIRMASI - SILAKAN BAYAR"         â”‚
â”‚   âœ… Header: "Pesanan Dikonfirmasi - Silakan Bayar"                â”‚
â”‚   ðŸ’° Total Tagihan: Rp 2.000.000                                   â”‚
â”‚   ðŸš€ Tombol: "Lanjut Pembayaran" (hijau besar)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              6. USER KLIK "LANJUT PEMBAYARAN"                       â”‚
â”‚   Screen berubah ke: "methods" (Pilih Metode Pembayaran)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            7. SCREEN: PILIH METODE & JENIS PEMBAYARAN               â”‚
â”‚                                                                     â”‚
â”‚   Tab 1: Pilih Jenis Pembayaran                                    â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚   â”‚ ðŸ”µ DP (Down Payment)                                â”‚          â”‚
â”‚   â”‚    Nominal: Rp 500.000 (ditentukan admin)          â”‚          â”‚
â”‚   â”‚                                                     â”‚          â”‚
â”‚   â”‚ ðŸ”µ LUNAS (Full Payment)                             â”‚          â”‚
â”‚   â”‚    Nominal: Rp 2.000.000 (total tagihan)           â”‚          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                     â”‚
â”‚   Tab 2: Pilih Bank Transfer                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚   â”‚ â—‰ BCA - 1234567890                                  â”‚          â”‚
â”‚   â”‚ â—‹ Mandiri - 0987654321                              â”‚          â”‚
â”‚   â”‚ â—‹ BRI - 5555666677                                  â”‚          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                     â”‚
â”‚   ðŸš€ Tombol: "Konfirmasi & Upload Bukti"                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                           â”‚
                    â–¼                           â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   USER PILIH DP   â”‚       â”‚  USER PILIH LUNAS â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                           â”‚
                    â”‚                           â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              8. SCREEN: UPLOAD BUKTI TRANSFER                       â”‚
â”‚                                                                     â”‚
â”‚   ðŸ“‹ Info Pembayaran:                                               â”‚
â”‚   - Jenis: DP / LUNAS                                              â”‚
â”‚   - Nominal: Rp XXX                                                â”‚
â”‚   - Bank: BCA - 1234567890                                         â”‚
â”‚   - Atas Nama: Zulzi Trans                                         â”‚
â”‚                                                                     â”‚
â”‚   ðŸ“¤ Upload Area (drag & drop atau click)                          â”‚
â”‚   ðŸš€ Tombol: "Kirim Bukti Pembayaran"                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 9. SUBMIT PEMBAYARAN                                â”‚
â”‚   POST /api/pembayaran                                              â”‚
â”‚   Data:                                                             â”‚
â”‚   - id_pemesanan                                                    â”‚
â”‚   - jenis_pembayaran: "DP" / "LUNAS"                               â”‚
â”‚   - jumlah_bayar: nominal yang dibayar                             â”‚
â”‚   - bukti_transfer: file foto                                      â”‚
â”‚   - metode_bayar: "BCA"                                            â”‚
â”‚                                                                     â”‚
â”‚   Update Status Pemesanan: "Menunggu Verifikasi"                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                           â”‚
                    â–¼                           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  JIKA BAYAR DP            â”‚   â”‚  JIKA BAYAR LUNAS         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                           â”‚
                    â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         10A. TAMPILAN: "MENUNGGU VERIFIKASI PEMBAYARAN DP"          â”‚
â”‚   â³ Header: "Sedang Diverifikasi Admin"                           â”‚
â”‚   ðŸ“ Subtitle: "Pembayaran DP sebesar Rp 500.000"                  â”‚
â”‚   âš ï¸  Info Box: "Bukti transfer Anda sedang diperiksa admin"       â”‚
â”‚   ðŸ”„ Tombol: "Cek Update Status (Refresh)"                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         10B. TAMPILAN: "MENUNGGU VERIFIKASI PEMBAYARAN LUNAS"       â”‚
â”‚   â³ Header: "Sedang Diverifikasi Admin"                           â”‚
â”‚   ðŸ“ Subtitle: "Pembayaran LUNAS sebesar Rp 2.000.000"             â”‚
â”‚   âš ï¸  Info Box: "Bukti transfer Anda sedang diperiksa admin"       â”‚
â”‚   ðŸ”„ Tombol: "Cek Update Status (Refresh)"                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                           â”‚
                    â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    11. ADMIN VERIFIKASI PEMBAYARAN (via Dashboard - Mizan)         â”‚
â”‚   Admin periksa bukti transfer:                                    â”‚
â”‚   - âœ… Jika Valid: Ubah status                                     â”‚
â”‚   - âŒ Jika Invalid: Tolak pembayaran                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                       â”‚
        â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ADMIN APPROVE  â”‚     â”‚  ADMIN REJECT   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                       â”‚
        â”‚                       â–¼
        â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚           â”‚ 12A. STATUS: "Pembayaran Ditolak" â”‚
        â”‚           â”‚ âŒ Tampilkan alert merah           â”‚
        â”‚           â”‚ ðŸ”„ Tombol: "Upload Ulang Bukti"   â”‚
        â”‚           â”‚ â†’ Kembali ke screen upload        â”‚
        â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚            â”‚
                    â–¼            â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  JIKA DP      â”‚  â”‚  JIKA LUNAS    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚            â”‚
                    â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         12B. TAMPILAN: "DP SUDAH DIBAYAR - SILAKAN LUNASI"          â”‚
â”‚   âœ… Header: "DP Sudah Dibayar - Silakan Lunasi"                   â”‚
â”‚                                                                     â”‚
â”‚   ðŸ“¦ Info Box DP (biru):                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚   â”‚ âœ… DP Anda telah diverifikasi!                      â”‚          â”‚
â”‚   â”‚ DP yang sudah dibayar: Rp 500.000                  â”‚          â”‚
â”‚   â”‚ Sisa yang harus dibayar: Rp 1.500.000 (orange)    â”‚          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                     â”‚
â”‚   ðŸš€ Tombol Besar (orange):                                         â”‚
â”‚   "Bayar Sisa Pelunasan (Rp 1.500.000)"                            â”‚
â”‚                                                                     â”‚
â”‚   Status DB: "DP Dibayar"                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       13. USER KLIK "BAYAR SISA PELUNASAN"                          â”‚
â”‚   Kembali ke screen "methods" tapi:                                â”‚
â”‚   - Tab DP disabled (sudah dibayar)                                â”‚
â”‚   - Otomatis pilih LUNAS                                           â”‚
â”‚   - Nominal: Rp 1.500.000 (sisa pembayaran)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
          (Ulangi step 8-11 untuk pelunasan)
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         12C. TAMPILAN: "PEMBAYARAN LUNAS" (LANGSUNG)                â”‚
â”‚   âœ… Status: "Lunas"                                                â”‚
â”‚   ðŸŽ‰ Screen SUCCESS otomatis                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  14. SCREEN SUCCESS (FINAL)                         â”‚
â”‚                                                                     â”‚
â”‚   ðŸŽ‰ Icon Success (hijau besar)                                     â”‚
â”‚   âœ… "Pembayaran Berhasil!"                                         â”‚
â”‚   ðŸ’° Total yang Dibayar: Rp 2.000.000                              â”‚
â”‚   ðŸ“¦ Status: LUNAS                                                  â”‚
â”‚                                                                     â”‚
â”‚   ðŸ“‹ Ringkasan:                                                     â”‚
â”‚   - Kode Pesanan: #XX                                              â”‚
â”‚   - Tanggal: XX-XX-XXXX                                            â”‚
â”‚   - Armada: Toyota Avanza                                          â”‚
â”‚   - Supir: Ahmad Yani                                              â”‚
â”‚                                                                     â”‚
â”‚   ðŸ  Tombol: "Kembali ke Beranda"                                  â”‚
â”‚   ðŸ“± Tombol: "Hubungi Supir" (WhatsApp)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“Š Status Flow Database

### Status Pemesanan (kolom: `status_pemesanan`)

```
1. "Menunggu"              â†’ Pesanan baru masuk, belum dikonfirmasi admin
2. "Dikonfirmasi"          â†’ Admin setujui + set harga, user bisa bayar
3. "Menunggu Verifikasi"   â†’ User upload bukti, tunggu admin cek
4. "Pembayaran Ditolak"    â†’ Admin tolak bukti, user upload ulang
5. "DP Dibayar"            â†’ DP sudah diverifikasi, tunggu pelunasan
6. "Lunas"                 â†’ Semua pembayaran selesai
7. "Selesai"               â†’ Pesanan selesai dilaksanakan
8. "Dibatalkan"            â†’ Pesanan dibatalkan
```

### Jenis Pembayaran (kolom: `jenis_pembayaran` di tabel `pembayaran`)

```
- "DP"     â†’ Down Payment (uang muka)
- "LUNAS"  â†’ Full Payment atau Pelunasan sisa
```

---

## ðŸ”€ Percabangan Detail

### **Path 1: User Bayar DP Dulu**

```
1. Pemesanan â†’ Status: "Menunggu"
2. Admin konfirmasi â†’ Status: "Dikonfirmasi" 
   (set total_biaya = 2.000.000, nominal_dp = 500.000)
3. User bayar DP (500.000) â†’ Status: "Menunggu Verifikasi"
4. Admin approve â†’ Status: "DP Dibayar"
5. User bayar Pelunasan (1.500.000) â†’ Status: "Menunggu Verifikasi"
6. Admin approve â†’ Status: "Lunas"
```

**Tabel Pembayaran:**
| id | id_pemesanan | jenis_pembayaran | jumlah_bayar | status |
|----|--------------|------------------|--------------|---------|
| 1  | 50           | DP               | 500.000      | Verified|
| 2  | 50           | LUNAS            | 1.500.000    | Verified|

---

### **Path 2: User Bayar Lunas Langsung**

```
1. Pemesanan â†’ Status: "Menunggu"
2. Admin konfirmasi â†’ Status: "Dikonfirmasi"
   (set total_biaya = 2.000.000)
3. User bayar LUNAS (2.000.000) â†’ Status: "Menunggu Verifikasi"
4. Admin approve â†’ Status: "Lunas"
```

**Tabel Pembayaran:**
| id | id_pemesanan | jenis_pembayaran | jumlah_bayar | status |
|----|--------------|------------------|--------------|---------|
| 1  | 51           | LUNAS            | 2.000.000    | Verified|

---

## ðŸŽ¯ Key Points untuk Frontend

### **Kapan Tombol Muncul:**

| Status Pemesanan | Tombol yang Muncul |
|------------------|-------------------|
| `Menunggu` | ðŸ’¬ Diskusi Harga via WA + ðŸ”„ Refresh |
| `Dikonfirmasi` | ðŸš€ Lanjut Pembayaran (hijau) |
| `Menunggu Verifikasi` | â³ Sedang diverifikasi + ðŸ”„ Refresh |
| `Pembayaran Ditolak` | ðŸ”„ Upload Ulang Bukti (merah) |
| `DP Dibayar` | ðŸ§¡ Bayar Sisa Pelunasan (orange) + ðŸ”„ Refresh |
| `Lunas` | ðŸŽ‰ Screen Success (final) |

### **Perhitungan Sisa Pembayaran:**

```javascript
const totalTagihan = orderData.total_biaya;        // Rp 2.000.000
const sudahDibayar = pembayaranList.reduce(        // Rp 500.000 (jika DP)
    (sum, p) => sum + p.jumlah_bayar, 0
);
const sisaPembayaran = totalTagihan - sudahDibayar; // Rp 1.500.000
```

### **Nominal yang Harus Dibayar:**

```javascript
const nominalBayar = form.jenis_pembayaran === 'DP' 
    ? orderData.nominal_dp      // DP â†’ sesuai admin (Rp 500.000)
    : sisaPembayaran;           // LUNAS â†’ sisa tagihan (Rp 1.500.000 atau 2.000.000)
```

---

## âœ… Checklist Implementasi

- [x] Form pemesanan dengan upload foto
- [x] Status "Menunggu" dengan tombol WA
- [x] Status "Dikonfirmasi" dengan tombol bayar
- [x] Screen pilih metode (DP/LUNAS + Bank)
- [x] Screen upload bukti transfer
- [x] Status "Menunggu Verifikasi" dengan info nominal
- [x] Status "Pembayaran Ditolak" dengan upload ulang
- [x] Status "DP Dibayar" dengan info box + tombol pelunasan
- [x] Screen success untuk status "Lunas"
- [x] Perhitungan sisa pembayaran dinamis
- [x] Refresh button di setiap status

---

## ðŸŽ¨ UI/UX Guidelines

### **Color Coding:**
- ðŸŸ¢ **Hijau** â†’ Tombol pembayaran normal
- ðŸŸ  **Orange** â†’ Tombol pelunasan (setelah DP)
- ðŸŸ¡ **Kuning** â†’ Status menunggu verifikasi
- ðŸ”µ **Biru** â†’ Info box DP sudah dibayar
- ðŸ”´ **Merah** â†’ Pembayaran ditolak

### **Info Box Design:**
- **Menunggu Konfirmasi Pemesanan** â†’ Orange box + subtitle jelas
- **Menunggu Verifikasi Pembayaran** â†’ Yellow box + tampilkan nominal
- **DP Sudah Dibayar** â†’ Blue box + breakdown DP & sisa
- **Pembayaran Ditolak** â†’ Red box + alasan ditolak

---

Semoga diagram ini membantu! ðŸš€
